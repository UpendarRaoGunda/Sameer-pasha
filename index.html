<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Raghava Consultancy — Ad Generator</title>

  <!-- Google fonts: Noto Sans Telugu for Telugu, Poppins for English -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Telugu:wght@400;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --canvas-w:1080px;
      --canvas-h:1920px;
      --bg-dark:#071733;
      --gold:#f5b042;
      --accent:#0f4b6b;
    }
    body {
      margin:0;
      font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background: linear-gradient(180deg,#071733 0%, #0d2f4a 60%, #061626 100%);
      color: #fff;
      min-height:100vh;
      display:flex;
      gap:20px;
      align-items:flex-start;
      justify-content:center;
      padding:28px;
      box-sizing:border-box;
    }

    .panel {
      width: 420px;
      background: rgba(255,255,255,0.03);
      border-radius:12px;
      padding:18px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      backdrop-filter: blur(6px);
    }

    .panel h2{
      margin:0 0 8px 0;
      font-size:18px;
      letter-spacing:0.2px;
    }
    label{display:block;margin-top:10px;font-size:13px;color:#cbd5e1}
    input[type="text"]{
      width:100%;
      padding:8px 10px;
      margin-top:6px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.08);
      background: rgba(255,255,255,0.02);
      color:#fff;
      outline:none;
      box-sizing:border-box;
    }
    button{
      margin-top:12px;
      width:100%;
      padding:12px;
      background: linear-gradient(90deg,var(--gold),#e08e2f);
      color:#061626;
      border:none;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      box-shadow:0 6px 18px rgba(240,180,80,0.22);
    }
    #preview {
      width: calc(var(--canvas-w) * 0.25);
      height: calc(var(--canvas-h) * 0.25);
      background: #000;
      border-radius:8px;
      overflow:hidden;
      display:block;
      margin-top:14px;
      border:1px solid rgba(255,255,255,0.06);
    }
    .hint {
      margin-top:12px;
      font-size:12px;
      color:#9fb3c8;
    }

    /* canvas container */
    .canvas-area{
      width: calc(var(--canvas-w) * 0.45);
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:center;
    }
    canvas{
      width:360px; /* scaled preview on page */
      height:640px;
      border-radius:10px;
      box-shadow:0 12px 40px rgba(0,0,0,0.6);
      background: #000;
    }

    footer {
      font-size:12px;
      color:#9fb3c8;
      margin-top:8px;
    }

    /* Responsive */
    @media (max-width:1100px){
      body{flex-direction:column;align-items:center}
      .canvas-area{order: -1}
    }
  </style>
</head>
<body>

  <div class="panel">
    <h2>Raghava Consultancy — Ad generator (WhatsApp vertical)</h2>

    <label>Telugu Headline (auto-filled)</label>
    <input id="headlineTel" type="text" value="రాఘవ కన్సల్టెన్సీ — హోమ్ లోన్స్ & మార్ట్గేజ్ లోన్స్">

    <label>Telugu Subheading</label>
    <input id="subTel" type="text" value="మీ కలల ఇల్లు ఇప్పుడు మీ చేతుల్లోనే!">

    <label>Phone</label>
    <input id="phone" type="text" value="90148 33945">

    <label>Website</label>
    <input id="site" type="text" value="www.raghavaconsultency.com">

    <label>Loan bullets (Telugu, comma separated)</label>
    <input id="bullets" type="text" value="₹5 లక్షల నుండి ₹1 కోటి వరకు లోన్, తక్కువ వడ్డలు & వేగవంతమైన మంజూరు, డోర్‌స్టెప్ డాక్యుమెంటేషన్">

    <button id="renderBtn">Render Image</button>
    <button id="downloadBtn" style="background:linear-gradient(90deg,#3498db,#2aa3ff);">Download PNG</button>

    <div class="hint">Preview (scaled). Use Render Image to refresh preview — then Download PNG to save full 1080×1920.</div>
    <div id="preview"></div>
    <footer>Tip: Edit phone/website then click Render → Download.</footer>
  </div>

  <div class="canvas-area">
    <canvas id="adCanvas" width="1080" height="1920" aria-label="Ad canvas"></canvas>
    <div style="color:#cfe8ff;font-size:13px;text-align:center;">1080 × 1920 (WhatsApp Status)</div>
  </div>

<script>
  // References
  const canvas = document.getElementById('adCanvas');
  const ctx = canvas.getContext('2d', {alpha:false});
  const renderBtn = document.getElementById('renderBtn');
  const downloadBtn = document.getElementById('downloadBtn');
  const preview = document.getElementById('preview');

  // Inputs
  const headlineTelInput = document.getElementById('headlineTel');
  const subTelInput = document.getElementById('subTel');
  const phoneInput = document.getElementById('phone');
  const siteInput = document.getElementById('site');
  const bulletsInput = document.getElementById('bullets');

  // Default values
  const defaultData = {
    headlineTel: headlineTelInput.value,
    subTel: subTelInput.value,
    phone: phoneInput.value,
    site: siteInput.value,
    bullets: bulletsInput.value
  };

  // Helper: draw rounded rect
  function roundRect(ctx, x, y, w, h, r) {
    ctx.beginPath();
    ctx.moveTo(x+r, y);
    ctx.arcTo(x+w, y, x+w, y+h, r);
    ctx.arcTo(x+w, y+h, x, y+h, r);
    ctx.arcTo(x, y+h, x, y, r);
    ctx.arcTo(x, y, x+w, y, r);
    ctx.closePath();
  }

  // Draw function (main)
  function drawAd(data) {
    // Clear
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // Background gradient (royal blue -> deep teal -> dark)
    const g = ctx.createLinearGradient(0,0,0,canvas.height);
    g.addColorStop(0, '#0b3762');
    g.addColorStop(0.45, '#06334f');
    g.addColorStop(1, '#041423');
    ctx.fillStyle = g;
    ctx.fillRect(0,0,canvas.width,canvas.height);

    // Soft golden glow behind main house area
    const glowX = canvas.width/2;
    const glowY = canvas.height * 0.42;
    const glow = ctx.createRadialGradient(glowX, glowY, 10, glowX, glowY, 900);
    glow.addColorStop(0, 'rgba(245,180,66,0.95)');
    glow.addColorStop(0.12, 'rgba(245,180,66,0.65)');
    glow.addColorStop(0.25, 'rgba(245,180,66,0.18)');
    glow.addColorStop(1, 'rgba(4,20,35,0)');
    ctx.fillStyle = glow;
    ctx.fillRect(0,0,canvas.width,canvas.height);

    // subtle skyline silhouettes
    ctx.save();
    ctx.globalAlpha = 0.06;
    ctx.fillStyle = '#000000';
    // simple rectangles as city blocks
    for(let i=0;i<12;i++){
      const w = 60 + i*8;
      const h = 60 + (i%6)*40 + 80;
      const x = (i*90) % canvas.width;
      const y = canvas.height*0.55 - h;
      ctx.fillRect(x, y, w, h);
    }
    ctx.restore();

    // Draw house (stylized) in center-left
    const houseW = 640;
    const houseH = 380;
    const houseX = canvas.width*0.12;
    const houseY = canvas.height*0.45;

    // base
    roundRect(ctx, houseX, houseY, houseW, houseH, 20);
    ctx.fillStyle = 'rgba(8,19,40,0.65)';
    ctx.fill();

    // roof triangle
    ctx.beginPath();
    ctx.moveTo(houseX-20, houseY+30);
    ctx.lineTo(houseX + houseW/2, houseY - 120);
    ctx.lineTo(houseX + houseW + 20, houseY + 30);
    ctx.closePath();
    ctx.fillStyle = '#2c6aa6';
    ctx.fill();

    // windows (glowing)
    ctx.fillStyle = '#ffdca2';
    ctx.fillRect(houseX + 60, houseY + 80, 120, 100);
    ctx.fillRect(houseX + 220, houseY + 80, 120, 100);

    // door
    roundRect(ctx, houseX + 420, houseY + 200, 80, 150, 10);
    ctx.fillStyle = '#ffdca2';
    ctx.fill();

    // roof highlight
    const roofGrad = ctx.createLinearGradient(houseX, houseY-120, houseX + houseW, houseY+30);
    roofGrad.addColorStop(0, 'rgba(255,230,180,0.24)');
    roofGrad.addColorStop(1, 'rgba(255,255,255,0.02)');
    ctx.fillStyle = roofGrad;
    ctx.fill();

    // small icon row above house: bank, handshake, document
    const iconY = houseY - 40;
    const iconSize = 44;
    ctx.fillStyle = '#ffdca2';
    // globe-like bank (circle + pillars)
    ctx.beginPath();
    ctx.arc(houseX + 80, iconY, iconSize/2, 0, Math.PI*2);
    ctx.fill();
    // handshake simplified rectangle
    ctx.fillRect(houseX + 80 + 120, iconY - iconSize/2, iconSize, iconSize/2);
    // doc (paper)
    roundRect(ctx, houseX + 80 + 240, iconY - iconSize/2, iconSize*0.7, iconSize, 6);
    ctx.fill();

    // main Telugu headline (Top)
    ctx.fillStyle = '#fff7e9';
    ctx.textAlign = 'center';
    // Telugu font
    const telugofont = '700 64px "Noto Sans Telugu", "Poppins", sans-serif';
    ctx.font = telugofont;
    wrapText(ctx, data.headlineTel, canvas.width/2, canvas.height*0.12, canvas.width - 80, 72);

    // subheading Telugu (center)
    ctx.fillStyle = 'rgba(255,255,255,0.92)';
    ctx.font = '600 36px "Noto Sans Telugu", "Poppins", sans-serif';
    ctx.textAlign = 'center';
    wrapText(ctx, data.subTel, canvas.width/2, canvas.height*0.18 + 10, canvas.width - 120, 46);

    // Middle bullet points (Telugu) - render as three bullets
    ctx.textAlign = 'left';
    ctx.font = '500 34px "Noto Sans Telugu", "Poppins", sans-serif';
    ctx.fillStyle = '#fff';
    const bullets = data.bullets.split(',').map(s => s.trim()).slice(0,5);
    let by = canvas.height*0.52;
    const bx = canvas.width*0.62;
    bullets.forEach((b, i) => {
      // circle bullet
      ctx.beginPath();
      ctx.fillStyle = '#ffdca2';
      ctx.arc(bx - 36, by + i*58 + 8, 10, 0, Math.PI*2);
      ctx.fill();

      // text
      ctx.fillStyle = '#fff';
      wrapText(ctx, '•  ' + b, bx - 6, by + i*58 + 8, canvas.width - bx - 60, 40);
    });

    // Right side: portrait simplified (rounded rectangle w/ face tone)
    const faceX = canvas.width * 0.68;
    const faceY = canvas.height * 0.65;
    const faceW = 320;
    const faceH = 520;
    roundRect(ctx, faceX - 40, faceY - 330, faceW, faceH, 28);
    ctx.fillStyle = '#0f3b57';
    ctx.fill();

    // simple smiling face oval
    ctx.beginPath();
    ctx.fillStyle = '#ffd9b2';
    ctx.ellipse(faceX + faceW/2 - 40, faceY - 120, 86, 116, 0, 0, Math.PI*2);
    ctx.fill();
    // suit area
    ctx.fillStyle = '#08304a';
    roundRect(ctx, faceX - 10, faceY + 40, faceW - 40, 240, 20);
    ctx.fill();

    // Contact lines (center bottom)
    ctx.textAlign = 'center';
    ctx.fillStyle = '#fff';
    ctx.font = '700 40px "Poppins", sans-serif';
    ctx.fillText(data.phone, canvas.width/2, canvas.height*0.78);

    ctx.font = '500 30px "Poppins", sans-serif';
    ctx.fillStyle = 'rgba(255,255,255,0.9)';
    ctx.fillText(data.site, canvas.width/2, canvas.height*0.815);

    // Big brand name near bottom
    ctx.font = '800 64px "Poppins", sans-serif';
    ctx.fillStyle = 'rgba(245,180,66,1)';
    ctx.fillText('RAGHAVA CONSULTANCY', canvas.width/2, canvas.height*0.9);

    // Tagline
    ctx.font = '500 30px "Poppins", sans-serif';
    ctx.fillStyle = 'rgba(255,255,255,0.9)';
    ctx.fillText('Transforming Dreams into Homes.', canvas.width/2, canvas.height*0.94);

    // subtle footer
    ctx.font = '400 20px "Poppins", sans-serif';
    ctx.fillStyle = 'rgba(255,255,255,0.12)';
    ctx.fillText('Associated with major Banks & NBFCs', canvas.width/2, canvas.height*0.975);
  }

  // Wrap text helper for canvas
  function wrapText(ctx, text, x, y, maxWidth, lineHeight) {
    const words = text.split(' ');
    let line = '';
    let testLine = '';
    let lineArray = [];
    for(let n=0;n<words.length;n++){
      testLine = line + words[n] + ' ';
      const metrics = ctx.measureText(testLine);
      if(metrics.width > maxWidth && n > 0){
        lineArray.push(line.trim());
        line = words[n] + ' ';
      } else {
        line = testLine;
      }
    }
    lineArray.push(line.trim());
    // Draw lines centered by default behavior: ctx.textAlign should be set before calling this
    for(let i=0;i<lineArray.length;i++){
      ctx.fillText(lineArray[i], x, y + (i * lineHeight));
    }
  }

  // initial render
  function renderFromInputs(){
    const data = {
      headlineTel: headlineTelInput.value || defaultData.headlineTel,
      subTel: subTelInput.value || defaultData.subTel,
      phone: phoneInput.value || defaultData.phone,
      site: siteInput.value || defaultData.site,
      bullets: bulletsInput.value || defaultData.bullets
    };
    drawAd(data);
    // update preview (small scaled PNG)
    updatePreview();
  }

  function updatePreview(){
    // make a small dataURL and set as background in preview div for crisp scaled preview
    const scale = 0.25; // 1080x1920 -> 270x480
    const tmpCanvas = document.createElement('canvas');
    tmpCanvas.width = canvas.width * scale;
    tmpCanvas.height = canvas.height * scale;
    const tctx = tmpCanvas.getContext('2d');
    // draw scaled
    tctx.drawImage(canvas, 0, 0, tmpCanvas.width, tmpCanvas.height);
    preview.style.backgroundImage = `url(${tmpCanvas.toDataURL('image/png')})`;
    preview.style.backgroundSize = 'cover';
    preview.style.backgroundPosition = 'center';
  }

  // download as PNG
  function downloadPNG(){
    // Convert canvas to data URL
    const dataURL = canvas.toDataURL('image/png');
    const link = document.createElement('a');
    link.href = dataURL;
    const now = new Date();
    const ts = now.getFullYear().toString() + (now.getMonth()+1).toString().padStart(2,'0') + now.getDate().toString().padStart(2,'0');
    link.download = `raghava_ad_${ts}.png`;
    document.body.appendChild(link);
    link.click();
    link.remove();
  }

  // Attach events
  renderBtn.addEventListener('click', renderFromInputs);
  downloadBtn.addEventListener('click', ()=> {
    // ensure the latest render
    renderFromInputs();
    // small delay to ensure drawing done
    setTimeout(downloadPNG, 120);
  });

  // initial call
  window.addEventListener('load', ()=> {
    // a little delay to let fonts load
    setTimeout(renderFromInputs, 220);
  });
</script>

</body>
</html>
